<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moving Numbers</title>
    <style>
        .container {
            position: relative;
            width: 300px;
            height: 200px;
            border: 2px solid black;
            overflow: hidden;
        }

        .moving-number {
            position: absolute;
            font-size: 24px;
            font-weight: bold;
            color: black;
            background-color: rgb(240, 236, 236);
            width: 50px;
            height: 50px;
            line-height: 50px;
            text-align: center;
            border-radius: 50%;
            transition: transform 1s ease-in-out;
        }

        .pointer {
            position: absolute;
            border-top: 2px dashed red; /* Dashed line to point from one number to another */
            transform-origin: 0 0;
        }

    </style>
</head>
<body>

<div>
    <input type="number" id="numberInput" placeholder="Enter a number">
    <button onclick="addNumber()">Add Number</button>
    <input type="number" id="deleteInput" placeholder="Number to delete">
    <button onclick="deleteNumber()">Delete Number</button>
    <button onclick="deleteAll()">Delete All</button>
    <br>
    <input type="number" id="startNumber" placeholder="Start number">
    <input type="number" id="endNumber" placeholder="End number">
    <button onclick="pointBetweenNumbers()">Point Between Numbers</button>
    <div class="container" id="container"></div>
</div>

<script>
    let numbersArray = [];
    let positions = {}; // Store positions of the numbers

    function addNumber() {
        const input = document.getElementById("numberInput");
        const container = document.getElementById("container");

        if (input.value === "") return;

        const numberValue = input.value;
        numbersArray.push(numberValue);

        const numberElement = document.createElement("span");
        numberElement.classList.add("moving-number");
        numberElement.textContent = numberValue;
        numberElement.dataset.value = numberValue; // Store value in dataset for easy lookup
        container.appendChild(numberElement);

        // Store the position of the new number element
        positions[numberValue] = {
            x: Math.random() * (container.clientWidth - 50), // Random X position
            y: Math.random() * (container.clientHeight - 50), // Random Y position
        };

        // Update the number's position
        numberElement.style.transform = `translate(${positions[numberValue].x}px, ${positions[numberValue].y}px)`;

        input.value = ""; // Clear input
    }

    function pointBetweenNumbers() {
        const startNumber = document.getElementById("startNumber").value;
        const endNumber = document.getElementById("endNumber").value;

        if (!startNumber || !endNumber) return;

        // Get the positions of the start and end numbers
        const startPos = positions[startNumber];
        const endPos = positions[endNumber];

        if (!startPos || !endPos) return; // If numbers not found, return

        // Calculate the distance between the two points
        const deltaX = endPos.x - startPos.x;
        const deltaY = endPos.y - startPos.y;
        const length = Math.sqrt(deltaX * deltaX + deltaY * deltaY);

        // Create a pointer (a dashed line)
        const pointer = document.createElement("div");
        pointer.classList.add("pointer");

        // Set the pointer's size and rotation
        pointer.style.width = `${length}px`; // Set length based on the distance
        pointer.style.transform = `rotate(${Math.atan2(deltaY, deltaX) * 180 / Math.PI}deg)`; // Correct rotation
        pointer.style.top = `${startPos.y + 25}px`; // Start at the center of the number
        pointer.style.left = `${startPos.x + 25}px`; // Start at the center of the number

        // Append the pointer to the container
        document.getElementById("container").appendChild(pointer);
    }

    function deleteNumber() {
        const deleteInput = document.getElementById("deleteInput").value;
        if (deleteInput === "") return;

        const container = document.getElementById("container");
        const numbers = document.querySelectorAll(".moving-number");

        numbers.forEach(number => {
            if (number.dataset.value === deleteInput) {
                container.removeChild(number);
                numbersArray = numbersArray.filter(num => num !== deleteInput); // Remove from array
                delete positions[deleteInput]; // Remove from positions
            }
        });

        document.getElementById("deleteInput").value = ""; // Clear input
    }

    function deleteAll() {
        document.getElementById("container").innerHTML = "";
        numbersArray = [];
        positions = {}; // Clear positions
    }
</script>

</body>
</html>
